---
title: AVL树与红黑树
date: 2018-05-14 11:17:28
tags:
- 二叉树
- 二叉查找树
- 红黑树
- AVL树
---

二叉树是一种很经典的数据结构，利用这种结构，我们可以构造出一个快速的数据查询结构，原理就是利用二叉树每个节点都有两个孩子这一性质，我们让每个树节点的左右孩子性质一样，比如左树都比父节点小，右树都比父节点大，这样的结构中我们从根查找一个数据的速度会加快很多，过程就是比当前值大就去右树找，比当前值小就去左树找。这种树我们叫做二叉排序树，它其实就是一个排序好的队列的二分查找过程的具像化结构。

这是一种很理想的数据存储结构，然而当任由数据随意顺序存储和插入的时候，有时候会出现很尴尬的结果：

举个例子：
数据插入顺序：1→2→3→4→5→6
如果对数据不进行刻意安排，那么数据最终呈现形式将是：
[![Fail Tree](/img/AVL_RBTree/FAIL_TREE.png)](/img/AVL_RBTree/FAIL_TREE.png)

是的，这是一个瘸了的二叉树，它其实就是一个简单链表，完全没有二叉树应有的样子。

AVL树和红黑树就是为了防止数据插入或删除的时候树的性能下降而产生的一种算法，或者说一种带有限制条件的二叉树结构，下面我们就来介绍一下它们。

### 树的旋转

讲AVL跟红黑树之前，我们先来复习一下大学时被我们遗忘的知识，树的旋转。

一图胜千言：

[![Tree Rote](/img/AVL_RBTree/TREE_ROTE.png)](/img/AVL_RBTree/TREE_ROTE.png)

其实这里只是写的形象一点而已，为什么把孩子拉高之后多出来的那个节点要接在以前的父节点上呢？

这里我们要理解一下树旋转本来的设计理念，树旋转最终保证的是节点的相互位置不变，比如上图中第一棵树刚开始如果使用先序便利，得到的是：BADCE，再经过旋转之后最终的结果先序便利结果还是BADCE，而先序遍历又是二叉排序树的排序结果遍历方法，所以这么做可以保证树的先序遍历结果不变，也就保证了二叉排序树的性质不变。

关于树的旋转就说这么多。

### AVL树

从难易度考虑，我们首先来说一下AVL树，AVL树得名于它的发明者G. M. Adelson-Velsky和E. M. Landis，他们在1962年的论文《An algorithm for the organization of information》中发表了它。

AVL树是一种自平衡二叉树，它的平衡原则其实很简单，左右子树深度差不超过1，超过的话就需要重新调整树。

插入过程中调整的方法分为如下四种情况